<div class="container">
  <mat-card>
    <mat-card-header class="center">
      <mat-card-title>Apply Leave</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <form [formGroup]="leaveForm" #form="ngForm">
        <div class="row">
          <div class="col-md-3 col-sm-12">
            <mat-form-field>
              <mat-label>Select Type of Leave</mat-label>
              <mat-select
                formControlName="type"
                test-id="leaveForm.type"
                (ngModelChange)="changeType($event)"
              >
                <mat-option
                  *ngFor="let item of leaveTypes"
                  [value]="item.value"
                  >{{ item.display }}</mat-option
                >
              </mat-select>
            </mat-form-field>
          </div>
          <div class="col-md-3 col-sm-6">
            <mat-form-field>
              <mat-label>From</mat-label>
              <input
                matInput
                (ngModelChange)="calculateDate()"
                readonly
                [matDatepicker]="fromDate"
                formControlName="from"
                readonly
                test-id="leaveForm.from"
              />
              <mat-datepicker-toggle
                matSuffix
                [for]="fromDate"
              ></mat-datepicker-toggle>
              <mat-datepicker #fromDate></mat-datepicker>
            </mat-form-field>
          </div>
          <div class="col-md-3 col-sm-6">
            <mat-form-field>
              <mat-label>To</mat-label>
              <input
                matInput
                readonly
                (ngModelChange)="calculateDate()"
                [matDatepicker]="toDate"
                formControlName="to"
                readonly
                test-id="leaveForm.to"
              />
              <mat-datepicker-toggle
                matSuffix
                [for]="toDate"
              ></mat-datepicker-toggle>
              <mat-datepicker #toDate></mat-datepicker>
            </mat-form-field>
          </div>
          <div class="col-md-3 col-sm-12">
            <mat-form-field>
              <mat-label>No of Days</mat-label>
              <input
                matInput
                readonly
                [formControl]="noOfDays"
                test-id="leaveForm.noOfDays"
              />
            </mat-form-field>
          </div>
          <div class="col-md-6 col-sm-6">
            <mat-form-field>
              <mat-label>Select Primary Approver</mat-label>
              <mat-select
                formControlName="primaryApprover"
                test-id="leaveForm.pa"
              >
                <mat-option
                  *ngFor="let item of primaryAprrovers"
                  [value]="item.employeeId"
                  >{{ item.name }}</mat-option
                >
              </mat-select>
            </mat-form-field>
          </div>
          <div class="col-md-6 col-sm-6">
            <mat-form-field>
              <mat-label>Select Secondary Approver</mat-label>
              <mat-select
                formControlName="secondaryApprover"
                test-id="leaveForm.sa"
              >
                <mat-option
                  *ngFor="let item of secondaryApprovers"
                  [value]="item.employeeId"
                  >{{ item.name }}</mat-option
                >
              </mat-select>
            </mat-form-field>
          </div>
          <div class="col-md-12 col-sm-12">
            <mat-form-field>
              <mat-label>Note For Approver</mat-label>
              <textarea
                matInput
                formControlName="note"
                test-id="leaveForm.note"
              ></textarea>
            </mat-form-field>
          </div>
        </div>
      </form>
    </mat-card-content>
    <mat-card-actions>
      <div>
        <button
          type="button"
          mat-raised-button
          color="warn"
          #tooltip="matTooltip"
          matTooltip="Reset"
          (click)="form.reset()"
          [disabled]="form.untouched"
          test-id="leaveForm.reset"
        >
          Reset
        </button>
        <button
          style="float: right"
          type="button"
          mat-raised-button
          color="primary"
          #tooltip="matTooltip"
          matTooltip="Apply"
          (click)="apply()"
          [disabled]="false && !leaveForm.valid"
          test-id="leaveForm.submit"
        >
          Apply
        </button>
      </div>
    </mat-card-actions>
  </mat-card>
</div>
